var GUI=function(a){function b(a){this.options=e.defaults(a||{},h),this.render(this.options)}var c=a("Handlebars"),d=a("$"),e=a("_"),f=a("Backbone");this.Templates=this.Templates||{},this.Templates["src/template.html"]=c.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='\n	    <a class="mtvn-ad-gui-learn-more" href="',(d=c.buttonLink)?d=d.call(a,{hash:{},data:b}):(d=a.buttonLink,d=typeof d===i?d.apply(a):d),e+=j(d)+'" target="',(d=c.buttonTarget)?d=d.call(a,{hash:{},data:b}):(d=a.buttonTarget,d=typeof d===i?d.apply(a):d),e+=j(d)+'">\n	    	',(d=c.buttonText)?d=d.call(a,{hash:{},data:b}):(d=a.buttonText,d=typeof d===i?d.apply(a):d),e+=j(d)+"\n	    </a>\n	    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+='<div class="mtvn-ad-gui">\n	<div class="mtvn-ad-gui-container">\n	    <span class="mtvn-ad-gui-countdown"></span>\n	    ',g=c["if"].call(b,b.buttonLink,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+="\n	</div>\n</div>"}),this.Templates["src/controls/template.html"]=c.template(function(a,b,c,d,e){function f(){return'\n<div class="mtvn-controls-live mtvn-controls-button"></div>\n'}function g(){return'\n<div class="mtvn-controls-play-pause mtvn-controls-button"></div>\n'}function h(){return'\n<div class="mtvn-controls-mute mtvn-controls-button"></div>\n'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j="",k=this,l="function",m=this.escapeExpression;return j+="<!-- controls -->\n",i=c["if"].call(b,b.live,{hash:{},inverse:k.program(3,g,e),fn:k.program(1,f,e),data:e}),(i||0===i)&&(j+=i),j+='\n<div class="',(i=c.slider)?i=i.call(b,{hash:{},data:e}):(i=b.slider,i=typeof i===l?i.apply(b):i),j+=m(i)+'">\n	<div class="',(i=c.slider)?i=i.call(b,{hash:{},data:e}):(i=b.slider,i=typeof i===l?i.apply(b):i),j+=m(i)+'-time-display"></div>\n	<div class="',(i=c.slider)?i=i.call(b,{hash:{},data:e}):(i=b.slider,i=typeof i===l?i.apply(b):i),j+=m(i)+'-progress-container">\n		<div class="',(i=c.slider)?i=i.call(b,{hash:{},data:e}):(i=b.slider,i=typeof i===l?i.apply(b):i),j+=m(i)+'-buffered"></div>\n		<div class="',(i=c.slider)?i=i.call(b,{hash:{},data:e}):(i=b.slider,i=typeof i===l?i.apply(b):i),j+=m(i)+'-progress"></div>\n	</div>\n	<div class="',(i=c.slider)?i=i.call(b,{hash:{},data:e}):(i=b.slider,i=typeof i===l?i.apply(b):i),j+=m(i)+'-background"></div>\n	<div class="',(i=c.slider)?i=i.call(b,{hash:{},data:e}):(i=b.slider,i=typeof i===l?i.apply(b):i),j+=m(i)+'-thumb-container" style="left:0px;">\n		<div class="',(i=c.slider)?i=i.call(b,{hash:{},data:e}):(i=b.slider,i=typeof i===l?i.apply(b):i),j+=m(i)+'-thumb"/>\n	</div>\n</div>\n',i=c["if"].call(b,b.showVolume,{hash:{},inverse:k.noop,fn:k.program(5,h,e),data:e}),(i||0===i)&&(j+=i),j+='\n<div class="mtvn-controls-fullscreen mtvn-controls-button"></div>'});var g=this.Templates["src/template.html"],h={countdownText:"Your content will resume in {{time}}.",messageText:"Your content will resume shortly.",buttonText:"Learn More",buttonTarget:"_blank"};b.prototype={render:function(a){var b=a.template||g,c=this.$el=d(b(a));return this.$countdown=c.find(".mtvn-ad-gui-countdown"),this.renderMessage(a.time),c},renderMessage:function(a){var b=this.options[e.isUndefined(a)?"messageText":"countdownText"],c=e.template(b,{time:a},{interpolate:/\{\{(.+?)\}\}/g});this.$countdown.text(c)}};var i=function(){var a=this.Templates["src/controls/template.html"],b={slider:"mtvn-controls-slider",playPause:"mtvn-controls-play-pause"};return f.View.extend({tagName:"div",className:"mtvn-controls",events:{"click .mtvn-controls-volume":"onVolume","click .mtvn-controls-fullscreen":"onFullscreen"},initialize:function(){e.bindAll(this,"onSeek","sendEvent"),e.extend(this.options,{slider:b.slider}),this.render()},render:function(){var c=this.options;this.$el.html(d(a(c))),this.playPauseButton=new k({el:this.$el.find("."+b.playPause),paused:c.paused}),this.listenTo(this.playPauseButton,j.PLAY,this.sendEvent),this.listenTo(this.playPauseButton,j.PAUSE,this.sendEvent),this.slider=new l({el:this.$el.find("."+b.slider),playhead:c.playhead,duration:c.duration}),this.listenTo(this.slider,j.SEEK,this.onSeek),this.volumeButton=new m({el:this.$el}),this.listenTo(this.volumeButton,j.MUTE,this.sendEvent),this.listenTo(this.volumeButton,j.UNMUTE,this.sendEvent)},setPaused:function(a){this.playPauseButton.setPaused(a)},getPlayhead:function(){return this.slider.playhead},setPlayhead:function(a){this.slider.setPlayhead(a)},setBuffer:function(a){this.slider.setBuffer(a)},setDuration:function(a){this.slider.setDuration(a)},sendEvent:function(a,b){this.trigger(a,{type:a,target:this,data:b})},onSeek:function(a){this.sendEvent(j.SEEK,a)},onVolume:function(a){this.sendEvent(j.VOLUME,a)},onFullscreen:function(){this.sendEvent(j.FULLSCREEN)}})}(),j={PLAY:"PLAY",PAUSE:"PAUSE",FULLSCREEN:"FULLSCREEN",MUTE:"MUTE",UNMUTE:"UNMUTE",SEEK:"SEEK"},k=function(){var a={play:"mtvn-controls-play",pause:"mtvn-controls-pause"};return f.View.extend({initialize:function(){this.$el.addClass(this.options.paused?a.play:a.pause)},events:{click:"toggle"},setPaused:function(b){var c=this.$el;c.toggleClass(a.play,b),c.toggleClass(a.pause,!b)},toggle:function(){var b=this.$el,c=b.hasClass(a.pause),d=c?j.PAUSE:j.PLAY;b.toggleClass(a.play,c),b.toggleClass(a.pause,!c),this.trigger(d,d)}})}(),l=function(){var a=function(a){if(isNaN(a))return"00:00";var b=Math.round(a/3600),c=Math.round(a%3600/60),d=Math.round(a%3600%60);return(0===b?"":10>b?"0"+b+":":b+":")+(10>c?"0"+c:c)+":"+(10>d?"0"+d:d)},b="mtvn-controls-slider-thumb",c="mtvn-controls-slider-thumb-active";return f.View.extend({dragging:!1,duration:0,playhead:0,offsetWidth:0,events:{"touchstart .mtvn-controls-slider-thumb-container":"onThumbActive","touchmove .mtvn-controls-slider-thumb-container":"onThumbMove","touchend .mtvn-controls-slider-thumb-container":"onThumbInactive"},initialize:function(){e.bindAll(this,"setOffset"),this.render(),this.$thumbContainer=this.$el.find(".mtvn-controls-slider-thumb-container"),this.$progress=this.$el.find(".mtvn-controls-slider-progress"),this.$buffer=this.$el.find(".mtvn-controls-slider-buffered"),this.$timeDisplay=this.$el.find(".mtvn-controls-slider-time-display"),this.setDuration(this.options.duration),this.setPlayhead(this.options.playhead),e.delay(this.setOffset)},setPlayhead:function(a){this.dragging||this.seeking||(isNaN(a)&&(a=parseFloat(a,10)),isNaN(a)||(this.playhead=Math.max(0,Math.min(a,this.duration)),this.moveThumb(this.getLeftFromPlayhead(a)),this.updateTime()))},setBuffer:function(a){if(!this.dragging&&!this.seeking&&this.duration>1){var b=Math.max(0,this.getLeftFromPlayhead(a));b=Math.min(b,this.offsetWidth),this.$buffer.css({width:b})}},setDuration:function(a){isNaN(a)&&(a=parseFloat(a,10)),isNaN(a)||(this.duration=a,this.updateTime())},onThumbActive:function(a){a.preventDefault();var d=this.$el.find("."+b);d.removeClass(b),d.addClass(c),this.dragging=!0,this.setOffset(),this.$buffer.css({width:0})},onThumbMove:function(a){a.preventDefault();var b=a.originalEvent.touches[0].clientX;this.containerOffset||(this.containerOffset=this.$el.offset().left),this.moveThumb(b-this.containerOffset)},moveThumb:function(a){var b=Math.max(0,a);b=Math.min(b,this.offsetWidth),this.$thumbContainer.css({left:b}),this.$progress.css({width:b})},onThumbInactive:function(a){a.preventDefault();var d=this.$el.find("."+c);d.removeClass(c),d.addClass(b),this.dragging=!1,this.sendSeek()},setOffset:function(){this.offsetWidth=this.$el[0].offsetWidth},getLeftFromPlayhead:function(a){if(!a)return 0;var b=a/Math.max(1,this.duration);return b*this.offsetWidth},getTimeFromThumb:function(){var a=parseFloat(this.$thumbContainer.css("left"),10),b=a/this.offsetWidth;return b*this.duration},updateTime:function(){this.$timeDisplay.html(this.getTimeDisplayText())},getTimeDisplayText:function(){return this.options.isLive?"LIVE":'<span class="mtvn-controls-slider-current-time">'+a(this.playhead)+"</span>/"+a(this.duration)},sendSeek:function(){var a=this.playhead=this.getTimeFromThumb();this.trigger(j.SEEK,a)}})}(),m=function(){var a={unmute:"mtvn-controls-unmute",mute:"mtvn-controls-mute"};return f.View.extend({events:{"click .mtvn-controls-unmute":"onUnmute","click .mtvn-controls-mute":"onMute"},onUnmute:function(){var b=this.$el.find("."+a.unmute);b.removeClass(a.unmute),b.addClass(a.mute),this.trigger(j.UNMUTE,j.UNMUTE)},onMute:function(){var b=this.$el.find("."+a.mute);b.removeClass(a.mute),b.addClass(a.unmute),this.trigger(j.MUTE,j.MUTE)}})}();return{AdDisplay:b,Controls:i,Events:j,version:"0.2.0",build:"07/17/2013 12:57:54 PM"}}(MTVNPlayer.require);