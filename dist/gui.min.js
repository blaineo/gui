var GUI=function(a){function b(a){this.options=e.defaults(a||{},h),this.render(this.options)}var c=a("Handlebars"),d=a("$"),e=a("_"),f=a("Backbone");this.Templates=this.Templates||{},this.Templates["src/template.html"]=c.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='\n	    <a class="mtvn-ad-gui-learn-more" href="',(d=c.buttonLink)?d=d.call(a,{hash:{},data:b}):(d=a.buttonLink,d=typeof d===i?d.apply(a):d),e+=j(d)+'" target="',(d=c.buttonTarget)?d=d.call(a,{hash:{},data:b}):(d=a.buttonTarget,d=typeof d===i?d.apply(a):d),e+=j(d)+'">\n	    	',(d=c.buttonText)?d=d.call(a,{hash:{},data:b}):(d=a.buttonText,d=typeof d===i?d.apply(a):d),e+=j(d)+"\n	    </a>\n	    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+='<div class="mtvn-reset">\n<div class="mtvn-ad-gui">\n	<div class="mtvn-ad-gui-container">\n	    <span class="mtvn-ad-gui-countdown"></span>\n	    ',g=c["if"].call(b,b.buttonLink,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+="\n	</div>\n</div>\n</div>"}),this.Templates["src/controls/template.html"]=c.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="mtvn-controls-play mtvn-controls-button"></div>\n<div class="mtvn-controls-slider">\n	<div class="mtvn-controls-slider-time"></div>\n	<div class="mtvn-controls-slider-progress-container">\n		<div class="mtvn-controls-slider-buffered"></div>\n		<div class="mtvn-controls-slider-progress"></div>\n	</div>\n	<div class="mtvn-controls-slider-background"></div>\n	<div class="mtvn-controls-slider-thumb-container" style="left:0px;">\n		<div class="mtvn-controls-slider-thumb"/>\n	</div>\n</div>\n<div class="mtvn-controls-fullscreen mtvn-controls-button"></div>'});var g=this.Templates["src/template.html"],h={countdownText:"Your content will resume in {{time}}.",messageText:"Your content will resume shortly.",buttonText:"Learn More",buttonTarget:"_blank"};b.prototype={render:function(a){var b=a.template||g,c=this.$el=d(b(a));return this.$countdown=c.find(".mtvn-ad-gui-countdown"),this.renderMessage(a.time),c},renderMessage:function(a){var b=this.options[e.isUndefined(a)?"messageText":"countdownText"],c=e.template(b,{time:a},{interpolate:/\{\{(.+?)\}\}/g});this.$countdown.text(c)}},f.View.extend({tagName:"div",initialize:function(){this.$el.addClass("mtvn-controls-button")}});var i=this.Templates["src/controls/template.html"],j=f.View.extend({tagName:"div",className:"mtvn-controls",events:{"click .mtvn-controls-play":"play","click .mtvn-controls-pause":"pause"},initialize:function(){e.bindAll(this,"play"),this.render()},render:function(){this.$el.html(d(i()))},createSlider:function(){this.slider=new l({el:this.$el.find(".mtvn-controls-slider")})},play:function(){var a=this.$el.find(".mtvn-controls-play");a.removeClass("mtvn-controls-play"),a.addClass("mtvn-controls-pause"),this.trigger(k.PLAY)},pause:function(){var a=this.$el.find(".mtvn-controls-pause");a.removeClass("mtvn-controls-pause"),a.addClass("mtvn-controls-play"),this.trigger(k.PAUSE)}}),k={PLAY:"PLAY",PAUSE:"PAUSE",SEEK:"SEEK"},l=function(){var a="mtvn-controls-slider-thumb-container",b="mtvn-controls-slider-thumb",c="mtvn-controls-slider-thumb-active";return f.View.extend({dragging:!1,duration:1e3,tagName:"div",className:"mtvn-controls-slider",events:{"touchstart .mtvn-controls-slider-thumb-container":"thumbActive","touchmove .mtvn-controls-slider-thumb-container":"thumbMove","touchend .mtvn-controls-slider-thumb-container":"thumbInactive"},initialize:function(){this.render(),this.$thumbContainer=this.$el.find("."+a),this.$progress=this.$el.find(".mtvn-controls-slider-progress"),this.$buffer=this.$el.find(".mtvn-controls-slider-buffered"),this.containerOffset=this.$el[0].offsetLeft},render:function(){},thumbActive:function(a){a.preventDefault();var d=this.$el.find("."+b);d.removeClass(b),d.addClass(c),this.dragging=!0,this.offsetWidth=this.$el[0].offsetWidth,this.$buffer.css({width:0})},thumbMove:function(a){a.preventDefault();var b=a.originalEvent.touches[0].clientX;this.containerOffset||(this.containerOffset=this.$el.offset().left),this.moveThumb(b-this.containerOffset)},moveThumb:function(a){var b=Math.max(0,a);b=Math.min(b,this.offsetWidth),this.$thumbContainer.css({left:b}),this.$progress.css({width:b})},thumbInactive:function(a){a.preventDefault();var d=this.$el.find("."+c);d.removeClass(c),d.addClass(b),this.dragging=!1,this.sendSeek()},getTimeFromThumb:function(){var a=parseFloat(this.$thumbContainer.css("left"),10),b=a/this.offsetWidth;return b*this.duration},sendSeek:function(){var a=this.getTimeFromThumb();console.log("slider.js:43 seek:",a),this.trigger(k.SEEK,a)}})}();return{AdDisplay:b,Controls:j,Events:k,version:"0.2.0",build:"07/16/2013 11:24:22 AM"}}(MTVNPlayer.require);